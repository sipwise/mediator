ngcp-mediator (11.4.1.1+0~mr11.4.1.1) unstable; urgency=medium

  [ Alessio Garzi ]
  * [c10ae63] MT#57281 New acc field "acc_dont_clean_suffix"

  [ Guillem Jover ]
  * [3797823] MT#57790 Switch medredis_command() to use redisvCommand()

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 11 Jul 2023 17:50:23 +0200

ngcp-mediator (11.4.1.0+0~mr11.4.1.0) unstable; urgency=medium

  [ Alessio Garzi ]
  * [d75c9c6] MT#57110 New field r_user
  * [9e13374] MT#57110 New field r_ua (responder_user_agent)

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 26 Jun 2023 14:10:16 +0200

ngcp-mediator (11.4.0.0+0~mr11.4.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [776c5b7] MT#55628 fix possible segfault

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Fri, 24 Mar 2023 13:03:39 +0100

ngcp-mediator (11.3.0.0+0~mr11.3.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [f345a86] MT#55628 move `q` into medmysql_str
  * [8a32267] MT#55628 track individual CDRs
  * [84f44fa] MT#55628 retry CDR insert one by one after failure
  * [8388782] MT#55628 fix Coverity RESOURCE_LEAK warning

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 17 Jan 2023 17:42:42 +0100

ngcp-mediator (11.2.0.0+0~mr11.2.0.0) unstable; urgency=medium

  [ Alessio Garzi ]
  * [466da5a] MT#33002 new field hg_ext_response

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 04 Oct 2022 13:50:31 +0200

ngcp-mediator (11.1.0.0+0~mr11.1.0.0) unstable; urgency=medium

  [ Kirill Solomko ]
  * [c56b5f7] TT#182200 skip intermediate cdr records without valid src dst

  [ Richard Fuchs ]
  * [4b99ab1] TT#182200 fix CDR index bookkeeping
  * [95243fe] TT#182200 fix mem leak
  * [2437a6f] TT#182200 extra debugging output
  * [66d9ccc] TT#182200 abstract Redis trash/backup table definitions
  * [04a534b] TT#182200 delay Redis entry deletion until after MySQL transaction
  * [af70e4f] TT#182200 use single-pass JSON parsing

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 22 Aug 2022 20:01:11 +0200

ngcp-mediator (11.0.0.0+0~mr11.0.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [558248a] TT#170203 remove obsolete type
  * [ca8cb25] TT#170203 use linked list to manage call IDs
  * [8537ef8] TT#170203 use linked list to manage acc records
  * [043fd78] TT#170203 use dynamic string as SQL buffer
  * [cc4445e] TT#170203 allocate some strings in med_entry_t
  * [a1fbecc] TT#170203 use `static` for some file-scope functions
  * [c9462f2] TT#170203 store parsed JSON object in med_entry_t
  * [d86e326] TT#170203 parse JSON objects in med_entry_t early
  * [ba137dc] TT#170203 determine SIP method code early
  * [359d7ac] TT#170203 use specific method when deleting key
  * [f5a7735] TT#170203 add support for REFER
  * [59d36da] TT#170203 modernise medredis_fetch_records() a bit
  * [9296e59] TT#170203 unify acc record fetching
  * [0aab12e] TT#170203 split out function to truncate call ID suffixes
  * [697bd2b] TT#170203 support filter function when fetching records
  * [3251683] TT#170203 handle REFER records
  * [32ab6e9] TT#170203 skip "foreign" BYE records
  * [240002d] TT#170203 g_string_set_size before grabbing destination pointer
  * [5ae3e4e] TT#170203 fix mem leak
  * [097cd85] TT#177700 handle slow KeyDB startup

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 07 Jun 2022 11:43:03 +0200

ngcp-mediator (10.5.0.0+0~mr10.5.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 30 Mar 2022 23:59:33 +0200

ngcp-mediator (10.4.0.0+0~mr10.4.0.0) unstable; urgency=medium

  [ Michael Prokop ]
  * [e809d9b] TT#151550 github workflow: run on ubuntu-latest with PPA

  [ Richard Fuchs ]
  * [0d3c2c2] TT#150050 refactor SQL buffer requirement test into macro
  * [22dadc8] TT#150050 remove full subscriber/UUID mapping

  [ Mykola Malkov ]
  * [5896ce4] TT#154255 Remove redis dependency from unit file

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 24 Jan 2022 16:55:32 +0100

ngcp-mediator (10.3.0.0+0~mr10.3.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [22d33bc] TT#124273 Update packaging for bullseye

  [ Michael Prokop ]
  * [0d0cdbb] TT#151550 github workflow: be a bit more verbose about apt-get actions

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 23 Nov 2021 14:17:50 +0100

ngcp-mediator (10.2.0.0+0~mr10.2.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [5953d04] TT#139650 fix GHashTable string lookup against GString

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 05 Oct 2021 13:18:56 +0200

ngcp-mediator (10.1.0.0+0~mr10.1.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [e5a250b] TT#108003 update Coverity workflow
  * [235a1aa] TT#98401 refactor list of CDR field names
  * [70b33ed] TT#98401 refactor cdr alloc/free into separate functions
  * [735e856] TT#98401 convert CDR field name to GString
  * [8268747] TT#98401 remove now obsolete field width

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 24 Aug 2021 16:50:50 +0200

ngcp-mediator (10.0.0.0+0~mr10.0.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [beab5f6] TT#111150 Fix function prototypes

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 14 Jun 2021 16:36:15 +0200

ngcp-mediator (9.5.0.0+0~mr9.5.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [7e3d61e] TT#111150 Use libmariadb.pc instead of mariadb.pc
  * [7a766b7] TT#111150 When using MariaDB use its namespaced headers
  * [4343232] TT#111150 Mark bit-fields explicitly with as unsigned
  * [eba0d4c] TT#111150 Use localtime_r() instead of thread-unsafe localtime()
  * [8dc5829] TT#111150 Do not leak on realloc() failures
  * [6ede5cb] TT#111150 Remove redundant NULL check
  * [51d7868] TT#111150 Remove redundant initialization
  * [1498a64] TT#111150 Do not check for lower than 0 for unsigned int
  * [8e1fa0d] TT#111150 Do not shadow iterator variable in medredis_fetch_records()

  [ Alessio Garzi ]
  * [a4f9622] TT#116555 new last_hih redis key managed

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 20 Apr 2021 11:57:33 +0200

ngcp-mediator (9.4.0.0+0~mr9.4.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [14a6639] TT#108003 Do not override user-controlled build variables
  * [8ab76bd] TT#108003 Add support for mariadb configuration via pkg-config
  * [009f485] TT#108003 Add a coverity-scan GitHub workflow
  * [00a56dc] TT#108003 Update gitignore
  * [1057527] TT#108003 Fix type mismatch in printf format string for size_t variable
  * [6c88ec5] TT#108003 Remove unused cdr_parse_json_get_uint64_clamped()
  * [a69d501] TT#108003 Do not let writing over capacity into medredis_srem_key_lua
  * [353093d] TT#108003 Remove unused free()

  [ Richard Fuchs ]
  * [a952a7c] TT#108003 use bool type instead of my_bool

  [ Michael Prokop ]
  * [29cf843] TT#76552 Harden ngcp-mediator service
  * [fa565ef] TT#110904 TT#76552 Fix systemd hardening for carrier environments
  * [0cbeddf] TT#110904 TT#76552 Fix systemd hardening for rand() access.
    Thanks to Victor Seva for reporting

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 15 Feb 2021 17:52:36 +0100

ngcp-mediator (9.3.0.0+0~mr9.3.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 05 Jan 2021 15:31:20 +0100

ngcp-mediator (9.2.0.0+0~mr9.2.0.0) unstable; urgency=medium

  [ Michael Prokop ]
  * [a8d8698] TT#51701 Switch from deprecated /var/lock to /run/lock

  [ Richard Fuchs ]
  * [096e37a] TT#97150 restore strings broken up by separator parsing
  * [46ea8fa] TT#98400 increase acc_backup/trash insert buffer size

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 09 Nov 2020 16:24:39 +0100

ngcp-mediator (9.1.0.0+0~mr9.1.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [0b22ffb] TT#90500 check and handle strings that are not UTF-8

  [ Marco Capetta ]
  * [2457782] TT#90650 Fix CDRs generations in case of blind transfers

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 31 Aug 2020 21:54:04 +0200

ngcp-mediator (9.0.0.0+0~mr9.0.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 21 Jul 2020 14:48:18 +0200

ngcp-mediator (8.6.0.0+0~mr8.6.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 14 Jul 2020 11:52:26 +0200

ngcp-mediator (8.5.0.0+0~mr8.5.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [8fb275b] TT#76674 streamline CDR tagging routine
  * [899ae5c] TT#76674 add support for concurrent calls tags
  * [c6fc98e] TT#75111 allow null fields for gpp fields

  [ Marco Capetta ]
  * [a59714b] TT#75111 Store ACCs in json format

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 19 May 2020 11:08:49 +0200

ngcp-mediator (8.4.0.0+0~mr8.4.0.0) unstable; urgency=medium

  [ Marco Capetta ]
  * [6b2f741] TT#75111 Refactor json handling functions

  [ Richard Fuchs ]
  * [2e0b98f] TT#76900 use the appropriate SQL handler
  * [3354a97] TT#76900 use separate host/port config for intermediate CDRs

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 16 Mar 2020 11:14:07 +0100

ngcp-mediator (8.3.0.0+0~mr8.3.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [96e59f7] TT#71551 don't allocate zero-length memory blocks

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 27 Jan 2020 12:21:43 +0100

ngcp-mediator (8.2.0.0+0~mr8.2.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [b431c48] TT#51701 Switch from deprecated /var/run to /run

  [ Richard Fuchs ]
  * [beb28bd] TT#69550 fix possible leftover redis acc records
  * [61fbffd] TT#69550 silence stray warnings

  [ Marco Capetta ]
  * [87ec80a] TT#70855 Read source_lcr_id from acc record and use it to generate CDR
  * [a99934c] TT#70855 Don't skip the ACC if source_lcr_id filed is missing

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 25 Nov 2019 14:55:11 +0100

ngcp-mediator (8.1.0.0+0~mr8.1.0.0) unstable; urgency=medium

  [ Kirill Solomko ]
  * [024994e] TT#59353 escape callid in sql statements
  * [0bf9cbd] TT#65058 escape cdr_tag_data value

  [ Alexander Lutay ]
  * [aa7536b] TT#66150 TT#42910 Fix 4818ac638: send systemd READY=1 when maintenance mode is enabled

  [ Richard Fuchs ]
  * [b4302c7] TT#65453 refactor SQL batch handling
  * [8bfaabb] TT#65453 implement intermediate CDR writing
  * [7618456] TT#63000 support non-unique db_redis keys

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 08 Oct 2019 09:08:25 +0200

ngcp-mediator (8.0.0.0+0~mr8.0.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [a1e9a99] TT#61954 Update copyright years
  * [6dd2cbb] TT#61954 Set debhelper compat level in Build-Depends instead of debian/compat

  [ Marco Capetta ]
  * [e5c3c38] TT#58502 Add User-to-User header support in cdr-tag

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 05 Aug 2019 20:55:29 +0200

ngcp-mediator (7.5.0.0+0~mr7.5.0.0) unstable; urgency=medium

  [ Marco Capetta ]
  * [0e20fb3] TT#58586 Fix parsing of acc records without branch_id

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 17 Jun 2019 14:36:24 +0200

ngcp-mediator (7.4.0.0+0~mr7.4.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [f15a292] TT#54554 add support for new cdr_group table

  [ Michael Prokop ]
  * [ba5da32] TT#55204 Support building against mariadb 10.3.13

  [ Marco Capetta ]
  * [8676220] TT#56008 Add branch_id reading in acc parsing

  [ Guillem Jover ]
  * [a328c5a] TT#54955 Use a symbolic macro for the default log level
  * [54b5de7] TT#54955 Reduce verbosity for skipping duplicate log messages to debug

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 25 Apr 2019 14:28:29 +0200

ngcp-mediator (7.3.0.0+0~mr7.3.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [d7c6a43] TT#49150 Namespace binary name with ngcp-

  [ Richard Fuchs ]
  * [d6f58ed] TT#52964 suppress stray warning when no MySQL acc records are found

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 25 Feb 2019 22:54:17 +0100

ngcp-mediator (7.2.0.0+0~mr7.2.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 09 Jan 2019 21:57:57 +0100

ngcp-mediator (7.1.0.0+0~mr7.1.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [c97a564] TT#44639 properly quote mysql insert string
  * [a69fa5c] TT#44639 compile warning fix for c97a5645

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 12 Nov 2018 22:36:06 +0100

ngcp-mediator (7.0.0.0+0~mr7.0.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [094ef0b] TT#37553 always combine acc records from mysql and redis
  * [b1c9f2b] TT#42673 verify redis reply types before processing them
  * [0fc3d0f] TT#42673 prevent double-free in error case
  * [4ff9eda] TT#42673 log call-id in error cases
  * [0e7d468] TT#43558 fix compiler warnings introduced in 15eb7bbfa
  * [a0f63f3] TT#44000 support trashing of acc entries that are too old

  [ Andreas Granig ]
  * [15eb7bb] TT#43558 Move invalid redis acc records to trash

  [ Guillem Jover ]
  * [4818ac6] TT#42910 Add systemd notify support

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 24 Sep 2018 18:54:41 +0200

ngcp-mediator (6.5.0.0+0~mr6.5.0.0) unstable; urgency=medium

  [ Kirill Solomko ]
  * [62ab36f] TT#39374 store data in cdr_tag_data
  * [3f22f01] TT#39374 fix cdr_tag_table tag_id free() call

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 24 Jul 2018 13:35:39 +0200

ngcp-mediator (6.4.0.0+0~mr6.4.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [c304093] TT#26264 Remove obsolete init script
  * [979da5e] TT#26264 Remove obsolete rc.d symlinks

  [ Alexander Lutay ]
  * [0e71eb8] TT#35502 Replace Requires=mysql.service with Wants=mariadb.service for ngcp-mediator.service

  [ Richard Fuchs ]
  * [30ba71a] TT#36261 fix segfault after redis restart

  [ Andrew Pogrebennyk ]
  * [f6d329d] TT#36226 implement unescaping for source_user and source_cli fields

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 29 May 2018 10:04:51 +0200

ngcp-mediator (6.3.0.0+0~mr6.3.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [4a830b3] TT#32302 Implement config file parsing
  * [25991bb] TT#26264 Add a new systemd native service file
  * [28e928f] TT#32917 Fix format truncation warning
  * [d48023f] TT#32917 Remove unused argument from medmysql_update_call_stat_info()
  * [ec9b6dd] TT#32917 Mark unused function argument as such
  * [412a87e] TT#32917 Do not compare values with different signedness
  * [62f27ea] TT#32917 Enable -Wextra
  * [e85462b] TT#26264 Add a manual alias for ngcp-mediator

  [ Alexander Lutay ]
  * [7c2d527] TT#33276 Remove sysv init script dependency on sshd

  [ Andreas Granig ]
  * [2812d16] TT#33319 Implement redis backend for mediator
  * [0a40eb2] TT#33319 Convert tabs to spaces in code style

  [ Richard Fuchs ]
  * [dd75641] TT#33319 don't hold large structure on the stack
  * [cd516a0] TT#33040 clip MOS values to avoid errors when inserting into DB
  * [cd89ac0] TT#33040 clip MOS values to avoid errors when inserting into DB

  [ Manuel Montecelo ]
  * [34d102d] TT#31163 Require/After redis-server

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 03 Apr 2018 22:28:35 +0200

ngcp-mediator (6.2.0.0+0~mr6.2.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 29 Jan 2018 21:53:57 +0100

ngcp-mediator (6.1.0.0+0~mr6.1.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [63393e1] TT#24224 Use the actual option defaults
  * [ec54acd] TT#24224 Pass the exit status to the config_help function
  * [f7b3e5c] TT#24224 Simplify config string option handling
  * [5d455c3] TT#24224 Use $(shell â€¦) instead of `` in Makefile
  * [0035cd0] TT#24224 Pass the relevant build flags to compile and link stages
  * [e65f1fa] TT#24224 Switch to use libmariadb-dev
  * [881f534] TT#24224 Switch from BSD to C99 integer types
  * [a76c914] TT#24224 Print the correct project version on -?
  * [e9d4cb7] TT#24209 Pass --retry 5 to start-stop-daemon
  * [a05f1c2] TT#22072 Update packaging

  [ Richard Fuchs ]
  * [c94f9df] TT#24140 add DB abstraction layer
  * [266c624] TT#24140 add transaction replay capability to work around temporary errors
  * [09f0108] TT#24140 add wrapper function to simulate DB errors for testing
  * [6086690] TT#24601 Revert "TT#24224 Switch to use libmariadb-dev"
  * [42846d3] TT#24450 consolidate batch statement handling
  * [7050bfa] TT#24450 support writing to cdr_tag_data and cdr_mos_data table
  * [092b67b] TT#24226 parse MOS JSON values and store in CDR sub-tables

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 06 Dec 2017 00:06:06 +0100

ngcp-mediator (6.0.0.0+0~mr6.0.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [16757c9] TT#19063 fix maintenance mode switch

  [ Kirill Solomko ]
  * [2722082] TT#22470 introduce source_lnp_type, destination_lnp_type

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 02 Oct 2017 23:40:19 +0200

ngcp-mediator (5.5.0.0+0~mr5.5.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [ae963f4] TT#16753 implement do-nothing maintenance mode

  [ Rene Krenn ]
  * [fa5db15] TT#14298 default values for missing leg tokens

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 17 Jul 2017 22:44:09 +0200

ngcp-mediator (5.4.0.0+0~mr5.4.0.0) unstable; urgency=medium

  [ Alexander Lutay ]
  * [cf6ce37] TT#13401 Add lsb-base as a dependencies for ngcp-mediator (lintian warning fix)
  * [19394a4] TT#15855 Fix shellcheck/bashism warnings for mediator init script

  [ Andreas Granig ]
  * [e00771b] TT#3990 Undo stop-rec processing but use pbx/xfer
  * [8a7d055] TT#14053 Add LICENSE file
  * [4f20a8a] TT#14053 Fix code issues reported by coverity

  [ Guillem Jover ]
  * [2a74548] TT#5420 Update packaging
  * [6e3a0f6] TT#14010 Remove duplicate expression in conditional

  [ Richard Fuchs ]
  * [0133956] TT#14005 fix mediator shutting down prematurely
  * [bd2ac84] TT#14211 fix sql queries getting truncated on long call-ids

  [ Rene Krenn ]
  * [682dc47] TT#8162 process source/destination_user_out

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Tue, 16 May 2017 21:37:34 +0200

ngcp-mediator (5.3.0.0+0~mr5.3.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 22 Mar 2017 10:55:29 +0100

ngcp-mediator (5.2.0.0+0~mr5.2.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Fri, 03 Feb 2017 00:35:28 +0100

ngcp-mediator (5.1.0.0+0~mr5.1.0.0) unstable; urgency=medium

  [ Michael Prokop ]
  * [088ed4a] TT#6430 Build-Depend on either default-libmysqlclient-dev or libmysqlclient15-dev

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 17 Nov 2016 23:15:16 +0100

ngcp-mediator (5.0.0.0+0~mr5.0.0.0) unstable; urgency=medium

  [ Richard Fuchs ]
  * [3e3a6e8] MT#20221 support special treatment of _pbx-1 accounting records
  * [8bbe5c5] MT#20221 use descriptive name for peer hosts instead of hostname

  [ Andrew Pogrebennyk ]
  * [10274b2] MT#20221 add option to find destination peer by pbx stop records

 -- Alexander Lutay <alutay@sipwise.com>  Fri, 21 Oct 2016 15:31:43 +0200

ngcp-mediator (1.20.0.0+0~mr4.5.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 23 May 2016 18:48:14 +0200

ngcp-mediator (1.19.0.0+0~mr4.4.0.0) unstable; urgency=medium

  [ Guillem Jover ]
  * [35b9cae] MT#16473 Convert debian/copyright to machine-readable format

  [ Richard Fuchs ]
  * [68fdd9a] MT#17645 implement unescaping for sensitive CDR fields

  [ Michael Prokop ]
  * [e23d446] MT#17699 Bump Standards-Version to 3.9.7

  [ Andreas Granig ]
  * [13132cc] MT#16777 Process source/destination_lnp_prefix
  * [c39c055] MT#16777 Fix lnp columns

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 21 Mar 2016 22:18:52 +0100

ngcp-mediator (1.18.0.0+0~mr4.3.0.0) unstable; urgency=medium

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 16 Dec 2015 09:18:01 +0100

ngcp-mediator (1.17.0.0+0~mr4.2.0.0) unstable; urgency=medium

  [ Victor Seva ]
  * [2c2219c] MT#15381 fix backwards compatibility for [src|dst]leg fields
  * [b2f9d59] MT#15395 log stats query on critial error

  [ Kirill Solomko ]
  * [9df32db] MT#15397 - stats_handler uses autocommit=1

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 12 Oct 2015 15:34:23 +0200

ngcp-mediator (1.16.0.0+0~mr4.1.0.0) unstable; urgency=low

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 13 Jul 2015 15:17:22 +0200

ngcp-mediator (1.15.0.0+0~mr4.0.0.0) unstable; urgency=low

  [ Kirill Solomko ]
  * [e348692] MT#11157 - Add call info stats dump
  * [2e2b422] MT#11157 - changed default db for "call_stats_info" from "stats" to "sipstats"
  * [d66262c] MT#11157    Add separate mysql handler for the stats db
  * [df5eb2b] MT#11157 - use "stats" db instead of "sipstats"

  [ Michael Prokop ]
  * [2fbcdd8] MT#9127 Bump Standards-Version to 3.9.6

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 18 Mar 2015 14:03:40 +0100

ngcp-mediator (1.14.0.0+0~mr3.8.0.0) unstable; urgency=low

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 07 Jan 2015 21:29:52 +0100

ngcp-mediator (1.13.0.0+0~mr3.7.0.0) unstable; urgency=low

  [ Andreas Granig ]
  * [0b04da2] MT#9565 Populate src/dst gpp fields.
  * [c6e3e0b] MT#9565 Fix gpp sql error

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 30 Oct 2014 17:23:00 +0100

ngcp-mediator (1.12.0.0+0~mr3.6.0.0) unstable; urgency=low

  [ Richard Fuchs ]
  * [71657dd] MT#8195 use dst_leg peer id and lookup against peer group/contract ID

  [ Victor Seva ]
  * [0d9a19f] MT#8741 sync init script from templates
  * [7f02fb9] MT#8741 remove init script tricks
  * [500af32] MT#7505 Add gitreview file

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 09 Oct 2014 16:33:57 +0200

ngcp-mediator (1.11.0.0+0~mr3.5.0.0) unstable; urgency=low

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 10 Jul 2014 15:28:09 +0200

ngcp-mediator (1.10.0.0+0~mr3.4.0.0) unstable; urgency=low

  [ Michael Prokop ]
  * [542bd41] MT#6511 Bump Standards-Version to 3.9.5

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 26 May 2014 15:48:38 +0200

ngcp-mediator (1.9.0.0+0~mr3.3.0.0) unstable; urgency=low

  * New release.

 -- Alexander Lutay <alutay@sipwise.com>  Fri, 21 Mar 2014 15:30:29 +0100

ngcp-mediator (1.8.2) unstable; urgency=low

  [ Kirill Solomko ]
  * [f89c788] MT#5257 - only distint acc records are selected per callid,
    removed unused acc.id field selection

 -- Kirill Solomko <ksolomko@sipwise.com>  Tue, 03 Dec 2013 16:51:43 +0100

ngcp-mediator (1.8.1) unstable; urgency=low

  [ Michael Prokop ]
  * [5792d19] MT#4517 Get rid of bashism in init script

 -- Victor Seva <vseva@sipwise.com>  Tue, 29 Oct 2013 14:03:57 +0100

ngcp-mediator (1.8.0) unstable; urgency=low

  [ agranig ]
  * Align reseller id to new billing.contact/contract schema.

 -- Andreas Granig <agranig@sipwise.com>  Wed, 07 Aug 2013 12:16:13 +0200

ngcp-mediator (1.7.0) unstable; urgency=low

  [ agranig ]
  * Align cdrs to new accounting.cdr schema.

 -- Andreas Granig <agranig@sipwise.com>  Wed, 27 Mar 2013 16:54:51 +0100

ngcp-mediator (1.6.0) unstable; urgency=low

  [ agranig ]
  * cdr.c,cdr.h,medmysql.c: Parse and insert source_ip field.
  * cdr.c,cdr.h,medmysql.c: Also parse and insert "split" parameter.

 -- Andrew Pogrebennyk <apogrebennyk@sipwise.com>  Tue, 11 Dec 2012 12:03:27 +0100

ngcp-mediator (1.5.1) unstable; urgency=low

  [ Michael Prokop ]
  * Provide postrm script
  * Provide postinst script, taking care of services restarts in HA mode

  [ jbonilla ]
  * re-add init stuff

 -- Jon Bonilla <jbonilla@sipwise.com>  Thu, 23 Aug 2012 15:31:07 +0200

ngcp-mediator (1.5.0) unstable; urgency=low

  [ mprokop ]
  * control: Bump Standards-Version to 3.9.3

  [ jbonilla ]
  * mediator.init,rules: remove init from mediator
  * mediator.default: Also remove deprecated defaults file 

 -- Jon Bonilla <jbonilla@sipwise.com>  Wed, 15 Aug 2012 20:57:30 +0200

ngcp-mediator (1.4.0) unstable; urgency=low

  * Parse and insert init_time. 

 -- Andrew Pogrebennyk <apogrebennyk@sipwise.com>  Mon, 05 Mar 2012 20:39:08 +0100

ngcp-mediator (1.3.7) unstable; urgency=low

  * Revert last changes for 1.3, this will go into 1.4 

 -- Andrew Pogrebennyk <apogrebennyk@sipwise.com>  Mon, 05 Mar 2012 20:32:19 +0100

ngcp-mediator (1.3.6) unstable; urgency=low

  * Fixes wrong merging/tagging. 

 -- Andrew Pogrebennyk <apogrebennyk@sipwise.com>  Mon, 05 Mar 2012 16:25:42 +0100

ngcp-mediator (1.3.5) unstable; urgency=low

  * Parse and insert init_time.

 -- Andrew Pogrebennyk <apogrebennyk@sipwise.com>  Mon, 05 Mar 2012 15:15:38 +0100

ngcp-mediator (1.3.4) unstable; urgency=low

  * Increase call-id string size.

 -- Andrew Pogrebennyk <apogrebennyk@sipwise.com>  Mon, 20 Feb 2012 18:23:08 +0100

ngcp-mediator (1.3.3) unstable; urgency=low

  * fix bug in acc_trash query, which causes mediator to fail

 -- Daniel Tiefnig <dtiefnig@sipwise.com>  Wed, 21 Dec 2011 14:47:01 +0100

ngcp-mediator (1.3.2) unstable; urgency=low

  * Fix segfaults on lookup table reload

 -- Richard Fuchs <rfuchs@sipwise.com>  Thu, 24 Nov 2011 11:51:37 -0500

ngcp-mediator (1.3.1) unstable; urgency=low

  * Also load peer host values in addition to IP values.

 -- Andreas Granig <agranig@sipwise.com>  Thu, 17 Nov 2011 18:22:00 +0100

ngcp-mediator (1.3.0) unstable; urgency=low

  * Write source/destination external subscriber and contract ids,
    internal account ids and peer auth user/realm to cdr table.

 -- Andreas Granig <agranig@sipwise.com>  Thu, 21 Jul 2011 18:32:39 +0200

ngcp-mediator (1.2.2) unstable; urgency=low

  * Use "mysql" instead of "$mysql" in LSB headers.

 -- Michael Prokop <mprokop@sipwise.com>  Mon, 02 May 2011 15:26:27 +0200

ngcp-mediator (1.2.1) unstable; urgency=low

  * Aligned debian version with old, non-debianized versioning scheme.

 -- Andreas Granig <agranig@sheep.linguin.org>  Fri, 29 Apr 2011 12:06:19 +0200

ngcp-mediator (0.2.0) unstable; urgency=low

  [ Daniel Tiefnig ]
  * separate CDR and billing databases

  [ Michael Prokop ]
  * Debian packaging:
    - Bump Standards-Version to 3.9.1 (no further changes).
    - Update lintian overrides file.

 -- Michael Prokop <mprokop@sipwise.com>  Sat, 25 Sep 2010 13:07:03 +0200

ngcp-mediator (0.1.4) unstable; urgency=low

  [ Jon Bonilla ]
  * Path fixes

 -- Jon Bonilla <jbonilla@sipwise.com>  Wed, 24 Feb 2010 15:40:23 +0100

ngcp-mediator (0.1.2) unstable; urgency=low

  [ Jon Bonilla ]
  * Install default configuration and init script.

 -- Michael Prokop <mprokop@sipwise.com>  Wed, 24 Feb 2010 15:40:23 +0100

ngcp-mediator (0.1.1) unstable; urgency=low

  * Initial release.

 -- Michael Prokop <mprokop@sipwise.com>  Wed, 16 Jul 2008 18:36:20 +0200

